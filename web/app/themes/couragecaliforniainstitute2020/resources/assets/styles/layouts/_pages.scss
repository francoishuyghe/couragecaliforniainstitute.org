body.page,
body.author,
body.category,
body.error404{
    background-color: theme-color(beige);

    .main{
        padding: 150px 0 100px;
        min-height: 100vh;
    }
}

.page.home{
    main{
        padding: 0;

        section{
            padding: $grid-gutter 0;
            
            @include media-breakpoint-up(md){
                padding: $grid-gutter * 2 0;
            }
        }

        h3{

            @include media-breakpoint-up(md){
                font-size: 2em;
            }
        }
    }

    #intro{
        min-height: 100vh;
        padding: $grid-gutter * 2 20px 20px;
        overflow: hidden;
        text-align: center;
        display: flex;
        align-items: center;
        justify-content: center;

        h2{
            font-size: 1.7em;
            margin-bottom: 0;
            color: theme-color(blue);
        }

        .subtitle{
            position: absolute;
            top: 0;
            left: 50%;
            transform: translate(-50%, -50%);
            display: inline-block;
            padding: 5px $grid-gutter / 2;
            background-color: theme-color(beige);
            text-transform: uppercase;
            color: theme-color(grey);
            font-size: .8em;
            font-weight: 600;
            letter-spacing: .08em;
            white-space: nowrap;
        }

        img{
            position: absolute;
            z-index: -1;

            &.top{
                top: 0;
                right: 0;
                transform: translate(0, -150%);
            }
            &.left{
                top: 0;
                left: 0;
                transform: translate(-30%, -70%);
                max-height: 50vh;
                width: auto;
            }
            &.right{
                right: 0;
                bottom: 0;
                transform: translate(20%, 70%);
            }
        }

        .container{
            padding: $grid-gutter;
            border: 5px solid theme-color(blue);
            background: theme-color(beige);
            position: relative;
        }

        @include media-breakpoint-up(md){
            min-height: 80vh;
            margin-top: $grid-gutter;

            display: flex;
            align-items: center;
            justify-content: center;

            background-size: 50%;
            background-position: left bottom;

            .container{
                max-width: 700px;
            }

            h2{
                font-size: 2em;
            }

            .subtitle{
                font-size: .9em;
                padding: 5px $grid-gutter;
            }
    
            p{
                font-size: 1.2em;
            }

            img.top{
                top: 0;
                transform: translate(0%, -150%);
            }
            img.left{
                left: 0;
                transform: translate(-30%, -70%);
            }
            img.right{
                right: 0;
                transform: translate(40%, 60%);
            }
        }

        @include media-breakpoint-up(lg){
            background-size: contain;

            img.top{
                top: 0;
                transform: translate(-20%, -150%);
            }
            img.left{
                left: 0;
                transform: translate(-70%, -30%);
                max-height: none;
            }
            img.right{
                right: 0;
                transform: translate(70%, 20%);
            }
        }
    }

    #register,
    #track{
        padding: 0;
        background-color: theme-color(blue);
        overflow: hidden;

        .text{
            display: flex;
            align-items: center;

            .wrap{
                padding: $grid-gutter;
            }
        }

        .image{
            background-size: cover;
            min-height: 200px;

            @include media-breakpoint-up(md){
                min-height: 500px;
            }
        }
    }

    #register{
        h3{
            color: theme-color(orange);
        }
    }

    #track{
        background-color: transparent;

        .row{
            flex-flow: column-reverse;

            @include media-breakpoint-up(md){
                flex-flow: row;
            }
        }
    }

    #registerForm{
        height: 0;
        background-color: theme-color(white);
        overflow: hidden;
        padding:0;
        line-height: 0;
        transition: .5s;

        &.active{
            height:1700px;
            display: flex;
            flex-flow: column;
            align-items: center;
            justify-content: center;

            @include media-breakpoint-up(md){
                height:1600px;
            }

            iframe{
                height: auto;
                margin-bottom: $grid-gutter / 2;
            }
        }
    }

    #counties{
        padding: $grid-gutter * 2 0;
        background: theme-color(blue);
        z-index: 0;
        text-align: center;
        color: theme-color(white);
        position: relative;

        @include media-breakpoint-up(lg){
            padding: $grid-gutter * 3 0;
        }

        h2{
            color: theme-color(orange);
            margin-bottom: 0;
        }

        p{
            margin-bottom: 0;

            a{
                color: theme-color(orange);
            }
        }

        select{
            margin: $grid-gutter / 2 0;
            width: 100%;
            max-width: 500px;
            padding: 10px 20px;
            border: 0;
            color: theme-color(grey);
            -webkit-appearance: none;
            background: url(../images/triangle.png) no-repeat 98% theme-color(white);
            background-size: 4%;
        }

        .mailbox{
            display: none;

            @include media-breakpoint-up(lg){
                display: block;
                position: absolute;
                right: $grid-gutter;
                bottom: 0;
                height: 100%;
                width: auto;
                z-index: -1;
            }
        }

        .ballot{
            transition: .25s;
            position: absolute;
            bottom: 0;
            left: $grid-gutter;
            z-index: -1;
            opacity: .3;

            @include media-breakpoint-up(xl){
                opacity: 1;
                left: 0;
            }
        }
    }

    #newsletter{
        background-color: theme-color(orange);
        text-align: center;

        .underlined{
            background-image: url(../images/underline-white.svg);
        }

        .success{
            opacity: 0;
            height: 1em;
            transition: .25s;
            visibility: hidden;
        }
        
        &.active{
            .success{
                opacity: 1;
                visibility: visible;
            }   
        }
    }

    #dates{
        background-color: theme-color(teal);
        color: theme-color(white);

        h3{
            text-align: center;
            color: theme-color(black);
        }

        .container{
            max-width: 800px;
        }

        .date-wrap{
            border-bottom: 1px solid theme-color(black);
            padding-bottom: $grid-gutter / 2;
            margin-bottom: $grid-gutter / 2;
            align-items: center;

            &:first-child{
                padding-top: $grid-gutter;
            }

            &:last-child{
                border-bottom: 0;
                padding-bottom: 0;
            }

            .date{
                h4{
                    font-size: 2em;
                    margin-bottom: 0;
                }
            }

            .text{
                font-size: 1.1em;
            }
        }

        footer{
            text-align: center;
            margin-top: $grid-gutter;
        }
    }

    #faq{
        .question{
            margin-bottom: $grid-gutter / 2;

            h4{
                margin-bottom: 0;
            }

            .drawer-title{
                display: flex;
                align-items: baseline;
                color: theme-color(blue);

                &:before{
                    content: "+";
                    flex: 0 0 $grid-gutter;
                    font-size: 2em;
                    padding-top: 5px;
                }
            }

            .drawer-content{
                padding-left: $grid-gutter;
                margin-top: 10px;
            }

            &.active{
                .drawer-title{
                    &:before{
                        content: "-";
                    }
                }
            }
        }
    }

    #blog{
        background-color: theme-color(orange);

        h3{
            color: theme-color(white);
            margin-bottom: 0;
        }

        .posts{
            margin-top: $grid-gutter;
        }

        .section-footer{
            margin-top: $grid-gutter;

            a.button{
                &:hover{
                    background-color: theme-color(blue);
                }
            }
        }
        
        .post-block{
            margin-bottom: 0;
            background-color: theme-color(white);
            height: 100%;

            .text{
                padding: 0 10px 10px;
            }
        }
    }

    #about{
        background-color: theme-color(blue);
        color: theme-color(white);
        text-align: center;
        
        h3{
            color: theme-color(orange);
        }

        .button{
            background-color: theme-color(orange);

            &:hover{
                background-color: theme-color(black);
            }
        }
    }
}

// PAGE ABOUT

.page.about{
    background-color: theme-color(blue);
    color: theme-color(white);
    @extend .scrolled;

    @media (min-width: 1200px){
        main .container {
            max-width: 900px;
        }
    }

    main{
        h1, h2{
            color: theme-color(orange);
            text-align: center;
        }
    
        h2{
            margin-top: $grid-gutter;
        }
    
        ul{
            padding-left: 0;
            list-style: none;
    
            li{
                margin-bottom: .5em;
            }
        }
    }
}

// Voter Tools
.page.voter-tools{
    h1{
        text-align: center;
        margin-bottom: 10px;
        color: theme-color(blue);
    }

    h2{
        text-transform: uppercase;
        font-size: 1.3em;
    }

    #top{
        text-align: center;
        max-width: 700px;
        margin: auto;
    }

    #tools{
        margin-top: $grid-gutter;
    }

    .action-links{
        margin-bottom: $grid-gutter;
    }

    .action-link{
        display: block;
        background: theme-color(grey);
        color: theme-color(white);
        font-weight: 600;
        padding: 1em;
        padding-right: 3em;
        margin-bottom: 10px;
        position: relative;

        &.active{
            background: theme-color(blue);
        }

        &:hover{
            background: theme-color(orange);
            text-decoration: none;
        }

        &:after{
            content: "►";
            position: absolute;
            right: 2em;
            top: 50%;
            transform: translateY(-50%);
        }
    }

    .action{
        display: none;

        &.active{
            display: block;
        }
    }
}


// BLOG
.page.blog{
    background-color: theme-color(white);

    .page-header{
        max-width: 900px;
        margin: auto;
    }

    h2{
        color: theme-color(blue);
        font-size: 1.2em;
        line-height: 1.3em;
    }

    .cats{
        margin-bottom: $grid-gutter;

        a{
            display: inline-block;
            margin-right: 10px;
            font-weight: 600;
            color: theme-color(lightgrey);
            font-size: .8em;
            letter-spacing: .05em;

            &:not(.available){
                pointer-events: none;
            }
            
            &.available{
                color: theme-color(grey);

                &:hover{
                    color: theme-color(orange);
                }
                
                &.active{
                    color: theme-color(orange);
                }
            }
            
        }
    }

    #blog{

        .post-wrap{
            @extend .col-md-12;
            @extend .horizontal;
        }

        &:not(.filtered){
            .row{
                & > div{
                    &:nth-child(4){
                        margin-top: $grid-gutter;
                        padding-top: $grid-gutter;
                        border-top: 1px solid theme-color(lightgrey);
                    }
                }
            }
            
            .post-wrap{
                &:nth-child(1),
                &:nth-child(2),
                &:nth-child(3){
                    @extend .col-md-4;

                    .post-block{
                        flex-flow: column;
                        border-right: 1px solid theme-color(lightgrey);
                        //padding: 0 $grid-gutter / 2;

                        .text,
                        .thumbnail{
                            @extend .col-12;
                        }
                    }
                    
                    &:nth-child(3){
                        .post-block{
                        border-right: 0;
                        }
                    }
                }
            }
        }
    }
}

//Post block
.post-block{
    margin-bottom: $grid-gutter;

    .thumbnail{
        width: 100%;
        margin-bottom: $grid-gutter / 3;

        .thumbnail-wrap{
            height: 0;
            padding-top: 60%;
            overflow: hidden;
            margin-bottom: 10px;
            background-color: theme-color(lightgrey);
            position: relative;

        }

        img{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            min-height: 100%;
            object-fit: cover;
        }
    }

    .categories {
        margin-bottom: 0;

        a{
            color: theme-color(orange);
            text-transform: uppercase;
            font-size: .8em;
            font-weight: 600;

            &:after{
                content: ', ';
            }

            &:last-child{
                &:after{
                    content: '';
                }   
            }
        }
    }

    h4{
        font-size: 1.1em;
        margin-bottom: 10px;
    }

    .date{
        font-size: .9em;
        color: theme-color(grey);
    }

    .byline{
        color: theme-color(grey);
        font-size: .8em;
    }

    .excerpt p{
        margin-bottom: 10px;

        a{
            color: theme-color(blue);
            
            &:hover{
                color: theme-color(orange);
            }
        }
    }
}

.horizontal{
    .post-block{
        @extend .row;
    
        .thumbnail{
            @extend .col-md-4;
        }
        
        .text{
            @extend .col-md-8;
        }
    }
}

.page-template-default{
    main.main .container{
        max-width: 800px;
    }
}